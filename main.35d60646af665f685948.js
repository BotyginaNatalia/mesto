(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n,r,o,i,u){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._templateSelector=n,this._item=e,this._userId=e.userId,this._likes=e.likes,this._callback=r,this._imageDeleteCallback=o,this._likeDeleteCallback=i,this._likeAddCallback=u,this._userLiked=this._item.likes.some((function(e){return e._id===a._userId}))}var n,r;return n=t,(r=[{key:"_getCard",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".element").cloneNode(!0)}},{key:"createCard",value:function(){return this._element=this._getCard(),this._cardImage=this._element.querySelector(".element__image"),this._cardImage.src=this._item.link,this._element.querySelector(".element__title").textContent=this._item.name,this._cardImage.setAttribute("alt",this._item.name),this._likeButton=this._element.querySelector(".element__like-button"),this._likesNumber=this._element.querySelector(".element__number-of-like"),this._isLiked(),this._userLiked&&this._likeButton.classList.add("element__like-button_active"),this._likesNumber.textContent=this._likes.length,this._isUserOwner()||this._element.querySelector(".element__delete-button").remove(),this._setEventListeners(),this._element}},{key:"_setEventListeners",value:function(){var e=this;return this._cardImage.addEventListener("click",(function(){e._callback({name:e._item.name,link:e._item.link})})),this._likeButton.addEventListener("click",(function(){e._userLiked?e._deleteLikeCallback():e._addLikeCallback()})),this._isUserOwner()&&this._element.querySelector(".element__delete-button").addEventListener("click",(function(){e._imageDeleteCallback(e._item,e._element)})),this._element}},{key:"_isUserOwner",value:function(){if(this._item.owner._id===this._userId)return!0}},{key:"_isLiked",value:function(){var e=this;return this._userLiked=this._item.likes.some((function(t){return t._id===e._userId})),this._userLiked}},{key:"toggleLike",value:function(e){this._likeButton.classList.toggle("element__like-button_active"),this._likesNumber.textContent=e.likes.length,this._userLiked=!this._userLiked}},{key:"addLikeApi",value:function(e){this._addLikeCallback=e}},{key:"deleteLikeApi",value:function(e){this._deleteLikeCallback=e}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=function(){function e(t,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"_showError",(function(e,t){var n=o._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(o._validationObjects.inputErrorClass),n.classList.add(o._validationObjects.errorClass),n.textContent=t})),r(this,"_hideError",(function(e){var t=o._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(o._validationObjects.inputErrorClass),t.classList.remove(o._validationObjects.errorClass),t.textContent=""})),r(this,"_checkInputValidity",(function(e){e.validity.valid?o._hideError(e):o._showError(e,e.validationMessage)})),this._validationObjects=t,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._validationObjects.inputSelector)),this._buttonElement=this._formElement.querySelector(this._validationObjects.submitButtonSelector)}var t,o;return t=e,(o=[{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._validationObjects.inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._validationObjects.inactiveButtonClass),this._buttonElement.disabled=!1)}},{key:"_setEventListeners",value:function(){var e=this;this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState(e._inputList,e._buttonElement)}))}))}},{key:"hideErrorMessage",value:function(){var e=this;this._inputList.forEach((function(t){e._hideError(t)})),this._toggleButtonState()}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&n(t.prototype,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.renderer=t,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"rendererItems",value:function(e){var t=this;e.forEach((function(e){return t.addItem(t.renderer(e)),e}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){(t.target===t.currentTarget||t.target.classList.contains(".element__close-button"))&&e.close()}))}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=p(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},f.apply(this,arguments)}function p(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_(r);if(o){var n=_(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._imageCaption=t._popup.querySelector(".popup__image"),t._image=t._popup.querySelector(".popup__title_pic"),t}return t=u,(n=[{key:"open",value:function(e){this._imageCaption.textContent=e.name,this._image.src=e.link,this._image.setAttribute("alt",e.name),f(_(u.prototype),"open",this).call(this)}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(c);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(){return m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=k(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},m.apply(this,arguments)}function k(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function w(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(r);if(o){var n=O(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return w(this,e)});function u(e,t){var n,r,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),a=function(){var e=n._getInputValues();n.preloader(),n._apiCallback(e)},(o="_submitHandler")in(r=E(n=i.call(this,e)))?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a,n._form=n._popup.querySelector(".popup__container"),n._inputList=n._form.querySelectorAll(".popup__info"),n._apiCallback=t,n._submit=n._form.querySelector(".popup__submit-button"),n}return t=u,(n=[{key:"_getInputValues",value:function(){var e={};return this._inputList.forEach((function(t){e[t.name]=t.value})),e}},{key:"setEventListeners",value:function(){m(O(u.prototype),"setEventListeners",this).call(this),this._popup.addEventListener("submit",this._submitHandler)}},{key:"close",value:function(){m(O(u.prototype),"close",this).call(this),this._form.reset()}},{key:"preloader",value:function(){this._submit.textContent="Сохранение..."}},{key:"offPreloader",value:function(e){this._submit.textContent=e}}])&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(c);function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=function(){function e(t){var n=t.nameSelector,r=t.aboutSelector,o=t.avatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameElement=document.querySelector(n),this._aboutElement=document.querySelector(r),this._avatarElement=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._nameElement.textContent,about:this._aboutElement.textContent}}},{key:"setUserInfo",value:function(e){this._nameElement.textContent=e.name,this._aboutElement.textContent=e.about}},{key:"setAvatar",value:function(e){this._avatarElement.src=e}}])&&L(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(){return I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=R(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},I.apply(this,arguments)}function R(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}function q(e,t){return q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},q(e,t)}function T(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(r);if(o){var n=x(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return T(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._submit=t._popup.querySelector(".popup__submit-button"),t}return t=u,(n=[{key:"setSubmitAction",value:function(e){this._callback=e}},{key:"setEventListeners",value:function(){I(x(u.prototype),"setEventListeners",this).call(this)}},{key:"submit",value:function(){this._submit.addEventListener("click",this._callback)}},{key:"close",value:function(){this._submit.removeEventListener("click",this._callback),I(x(u.prototype),"close",this).call(this)}},{key:"preloader",value:function(){this._submit.textContent="Удаление..."}},{key:"offPreloader",value:function(e){this._submit.textContent=e}}])&&C(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(c);function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var N=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=t.url,this._headers=t.headers,this.sendNewProfileInfo=this.sendNewProfileInfo.bind(this),this.addNewCard=this.addNewCard.bind(this),this.addLike=this.addLike.bind(this),this.deleteLike=this.deleteLike.bind(this),this.sendNewAvatar=this.sendNewAvatar.bind(this),this.deleteImage=this.deleteImage.bind(this)}var t,n;return t=e,(n=[{key:"getInfo",value:function(){return fetch("".concat(this._url,"users/me"),{method:"GET",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Произошла ошибка")}))}},{key:"getPhotos",value:function(){return fetch("".concat(this._url,"cards"),{method:"GET",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Произошла ошибка")}))}},{key:"sendNewProfileInfo",value:function(e){return fetch("".concat(this._url,"users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then((function(e){return e.ok?e.json():Promise.reject("Произошла ошибка")}))}},{key:"addNewCard",value:function(e){return fetch("".concat(this._url,"cards"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then((function(e){return e.ok?e.json():Promise.reject("Произошла ошибка")}))}},{key:"addLike",value:function(e){return fetch("".concat(this._url,"cards/").concat(e._id,"/likes"),{method:"PUT",headers:this._headers,body:JSON.stringify(e)}).then((function(e){return e.ok?e.json():Promise.reject("Произошла ошибка")}))}},{key:"deleteLike",value:function(e){return fetch("".concat(this._url,"cards/").concat(e._id,"/likes"),{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Произошла ошибка")}))}},{key:"deleteImage",value:function(e){return fetch("".concat(this._url,"cards/").concat(e._id),{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Произошла ошибка")}))}},{key:"sendNewAvatar",value:function(e){return fetch("".concat(this._url,"users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.link})}).then((function(e){return e.ok?e.json():Promise.reject("Произошла ошибка")}))}}])&&B(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function D(e,t,n){return D=U()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&V(o,n.prototype),o},D.apply(null,arguments)}function U(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function V(e,t){return V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},V(e,t)}var M=document.querySelector(".profile__edit-button"),H=document.querySelector("#input-name"),J=document.querySelector("#input-job"),G=document.querySelector(".profile__add-button"),z=document.querySelector(".profile__avatar-edit-button"),F={formSelector:".popup__container",inputSelector:".popup__info",submitButtonSelector:".popup__submit-button",inactiveButtonClass:"popup__submit-button_disabled",inputErrorClass:"popup__info_type_error",errorClass:"popup__span-error_visible"},K=document.querySelector(".popup__container_profile"),Q=document.querySelector(".popup__container_add"),W=document.querySelector(".popup__container_avatar"),X=new o(F,K),Y=new o(F,Q),Z=new o(F,W);X.enableValidation(),Y.enableValidation(),Z.enableValidation();var $,ee=new N({url:"https://nomoreparties.co/v1/cohort-41/",headers:{authorization:"fbc65fd2-5c16-4a99-9542-a08cde72dc8c","content-Type":"application/json"}});Promise.all([ee.getInfo(),ee.getPhotos()]).then((function(e){var t=e[0],n=e[1];ae.setUserInfo(t),$=t._id,n.forEach((function(e){e.userId=t._id})),te.rendererItems(n)})).catch((function(e){return console.log(e)}));var te=new u(se,".elements"),ne=new j(".popup_avatar",(function(e){ee.sendNewAvatar(e).then((function(e){ae.setAvatar(e.avatar),Z.hideErrorMessage(),ne.close()})).catch((function(e){return console.log(e)}))}));ne.setEventListeners(),z.addEventListener("click",(function(){Z.hideErrorMessage(),ne.offPreloader("Сохранить"),ne.open()}));var re=new j(".popup_edit",(function(e){ee.sendNewProfileInfo(e).then((function(e){ae.setUserInfo(e),re.close()})).catch((function(e){return console.log(e)}))}));re.setEventListeners(),M.addEventListener("click",(function(){fe(ae.getUserInfo()),X.hideErrorMessage(),fe(ae.getUserInfo()),re.offPreloader("Сохранить"),re.open()}));var oe=new j(".popup_add",(function(e){ee.addNewCard(e).then((function(e){var t=e;t.userId=$,te.addItem(se(t)),oe.close()})).catch((function(e){return console.log(e)}))}));oe.setEventListeners(),G.addEventListener("click",(function(){Y.hideErrorMessage(),oe.offPreloader("Создать"),oe.open()}));var ie=new A(".popup_delete-card");ie.setEventListeners();var ue=new y(".popup_pic");ue.setEventListeners();var ae=new S({nameSelector:".profile__title",aboutSelector:".profile__subtitle",avatarSelector:".profile__avatar"});function ce(e,t){ie.setSubmitAction((function(){ie.preloader(),ee.deleteImage(e,t).then((function(){t.remove(),t=null,ie.close()})).catch((function(e){return console.log(e)}))})),ie.offPreloader("Да"),ie.open(),ie.submit()}function se(e){var n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return D(t,n)}(e,".template",le,ce);return n.deleteLikeApi((function(){ee.deleteLike(e).then((function(e){n.toggleLike(e)})).catch((function(e){return console.log(e)}))})),n.addLikeApi((function(){ee.addLike(e).then((function(e){n.toggleLike(e)})).catch((function(e){return console.log(e)}))})),n.createCard()}function le(e){ue.open(e)}function fe(e){H.value=e.name,J.value=e.about}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWdCLHFCQWE1SCxTQUFTeUUsR0FBZ0JoTSxFQUFNcUYsR0FDN0J5RyxHQUFlRyxpQkFBZ0IsV0FDN0JILEdBQWVwRixZQUNmdUQsR0FBSTFCLFlBQVl2SSxFQUFNcUYsR0FDckJxRCxNQUFLLFdBQ0xyRCxFQUFRN0MsU0FDUjZDLEVBQVUsS0FDVnlHLEdBQWVoRyxXQUNiZ0YsT0FBTSxTQUFDQyxHQUFELE9BQVNDLFFBQVFDLElBQUlGLFNBRWhDZSxHQUFlUCxhQUFhLE1BQzVCTyxHQUFlTixPQUNmTSxHQUFlSSxTQUdqQixTQUFTaEIsR0FBY2xMLEdBQ3JCLElBQU1tTSxFQWhFSyxzQ0FBSUMsRUFBSix5QkFBSUEsRUFBSix5QkFBZ0JyTSxFQUFRcU0sR0FnRXJCQyxDQUFLck0sRUFBTSxZQUFhc00sR0FBb0JOLElBYTFELE9BWkFHLEVBQU1JLGVBQWMsV0FDbEJ0QyxHQUFJaEgsV0FBV2pELEdBQ2QwSSxNQUFLLFNBQUM1RixHQUNMcUosRUFBTUssV0FBVzFKLE1BQ2hCZ0ksT0FBTSxTQUFDQyxHQUFELE9BQVNDLFFBQVFDLElBQUlGLFNBRWhDb0IsRUFBTU0sWUFBVyxXQUNmeEMsR0FBSWpILFFBQVFoRCxHQUNYMEksTUFBSyxTQUFDNUYsR0FDTHFKLEVBQU1LLFdBQVcxSixNQUNoQmdJLE9BQU0sU0FBQ0MsR0FBRCxPQUFTQyxRQUFRQyxJQUFJRixTQUV6Qm9CLEVBQU1PLGFBb0JmLFNBQVNKLEdBQW1CdE0sR0FDMUIrTCxHQUFlUCxLQUFLeEwsR0FHdEIsU0FBUzBMLEdBQVUxTCxHQUNqQnFKLEVBQVVyQyxNQUFRaEgsRUFBSytCLEtBQ3ZCdUgsRUFBVXRDLE1BQVFoSCxFQUFLMkgsUSIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoaXRlbSwgdGVtcGxhdGVTZWxlY3RvciwgY2FsbGJhY2ssIGltYWdlRGVsZXRlQ2FsbGJhY2ssIGxpa2VEZWxldGVDYWxsYmFjaywgbGlrZUFkZENhbGxiYWNrKSB7XG4gICAgICB0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yID0gdGVtcGxhdGVTZWxlY3RvcjtcbiAgICAgIHRoaXMuX2l0ZW0gPSBpdGVtO1xuICAgICAgdGhpcy5fdXNlcklkID0gaXRlbS51c2VySWQ7XG4gICAgICB0aGlzLl9saWtlcyA9IGl0ZW0ubGlrZXM7XG4gICAgICB0aGlzLl9jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgdGhpcy5faW1hZ2VEZWxldGVDYWxsYmFjayA9IGltYWdlRGVsZXRlQ2FsbGJhY2s7XG4gICAgICB0aGlzLl9saWtlRGVsZXRlQ2FsbGJhY2sgPSBsaWtlRGVsZXRlQ2FsbGJhY2s7XG4gICAgICB0aGlzLl9saWtlQWRkQ2FsbGJhY2sgPSBsaWtlQWRkQ2FsbGJhY2s7XG4gICAgICB0aGlzLl91c2VyTGlrZWQgPSB0aGlzLl9pdGVtLmxpa2VzLnNvbWUoKGxpa2UpID0+IGxpa2UuX2lkID09PSB0aGlzLl91c2VySWQpO1xuICB9XG5cbiAgX2dldENhcmQoKSB7XG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVTZWxlY3RvcikuY29udGVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudCcpLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgIHJldHVybiBjYXJkRWxlbWVudDtcbiAgfVxuXG4gIGNyZWF0ZUNhcmQoKSB7XG4gICAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0Q2FyZCgpO1xuICAgICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9faW1hZ2UnKTtcbiAgICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9pdGVtLmxpbms7XG4gICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X190aXRsZScpLnRleHRDb250ZW50ID0gdGhpcy5faXRlbS5uYW1lO1xuICAgICAgdGhpcy5fY2FyZEltYWdlLnNldEF0dHJpYnV0ZSgnYWx0JywgdGhpcy5faXRlbS5uYW1lKTtcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlLWJ1dHRvbicpO1xuICAgICAgdGhpcy5fbGlrZXNOdW1iZXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19udW1iZXItb2YtbGlrZScpO1xuICAgICAgdGhpcy5faXNMaWtlZCgpO1xuICAgICAgaWYgKHRoaXMuX3VzZXJMaWtlZCkge1xuICAgICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZCgnZWxlbWVudF9fbGlrZS1idXR0b25fYWN0aXZlJyk7XG4gICAgICB9XG4gICAgICB0aGlzLl9saWtlc051bWJlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcbiAgICAgIGlmICghdGhpcy5faXNVc2VyT3duZXIoKSkge1xuICAgICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2RlbGV0ZS1idXR0b24nKS5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxuICBcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jYWxsYmFjayh7bmFtZTogdGhpcy5faXRlbS5uYW1lLCBsaW5rOiB0aGlzLl9pdGVtLmxpbmt9KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5fdXNlckxpa2VkKSB7XG4gICAgICAgICAgICAgIHRoaXMuX2RlbGV0ZUxpa2VDYWxsYmFjaygpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgdGhpcy5fYWRkTGlrZUNhbGxiYWNrKCk7XG4gICAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIGlmICh0aGlzLl9pc1VzZXJPd25lcigpKSB7XG4gICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19kZWxldGUtYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5faW1hZ2VEZWxldGVDYWxsYmFjayh0aGlzLl9pdGVtLCB0aGlzLl9lbGVtZW50KTtcbiAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cblxuICBfaXNVc2VyT3duZXIoKSB7XG4gICAgICBpZiAodGhpcy5faXRlbS5vd25lci5faWQgPT09IHRoaXMuX3VzZXJJZCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICB9XG5cbiAgX2lzTGlrZWQoKSB7XG4gICAgICB0aGlzLl91c2VyTGlrZWQgPSB0aGlzLl9pdGVtLmxpa2VzLnNvbWUoKGxpa2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gbGlrZS5faWQgPT09IHRoaXMuX3VzZXJJZDtcbiAgfSlcbiAgcmV0dXJuIHRoaXMuX3VzZXJMaWtlZDtcbn1cblxuICB0b2dnbGVMaWtlKHJlcykge1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCdlbGVtZW50X19saWtlLWJ1dHRvbl9hY3RpdmUnKTtcbiAgICAgIHRoaXMuX2xpa2VzTnVtYmVyLnRleHRDb250ZW50ID0gcmVzLmxpa2VzLmxlbmd0aDtcbiAgICAgIHRoaXMuX3VzZXJMaWtlZCA9ICF0aGlzLl91c2VyTGlrZWQ7XG4gIH1cblxuICBhZGRMaWtlQXBpKGFkZExpa2UpIHtcbiAgICAgIHRoaXMuX2FkZExpa2VDYWxsYmFjayA9IGFkZExpa2U7XG4gIH1cblxuICBkZWxldGVMaWtlQXBpKGRlbGV0ZUxpa2UpIHtcbiAgICAgIHRoaXMuX2RlbGV0ZUxpa2VDYWxsYmFjayA9IGRlbGV0ZUxpa2U7XG4gIH1cbn0iLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKHZhbGlkYXRpb25PYmplY3RzLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX3ZhbGlkYXRpb25PYmplY3RzID0gdmFsaWRhdGlvbk9iamVjdHM7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fdmFsaWRhdGlvbk9iamVjdHMuaW5wdXRTZWxlY3RvcikpO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3ZhbGlkYXRpb25PYmplY3RzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgfVxuXG4gIF9zaG93RXJyb3IgPSAoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpID0+IHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcblxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3ZhbGlkYXRpb25PYmplY3RzLmlucHV0RXJyb3JDbGFzcyk7XG5cbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl92YWxpZGF0aW9uT2JqZWN0cy5lcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gIH07XG5cbiAgX2hpZGVFcnJvciA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcblxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3ZhbGlkYXRpb25PYmplY3RzLmlucHV0RXJyb3JDbGFzcyk7XG5cbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl92YWxpZGF0aW9uT2JqZWN0cy5lcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICB9O1xuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkgPSAoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH1cbiAgfTtcblxuICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgICB9KTtcbiAgfVxuXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChcbiAgICAgICAgdGhpcy5fdmFsaWRhdGlvbk9iamVjdHMuaW5hY3RpdmVCdXR0b25DbGFzc1xuICAgICAgKTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXG4gICAgICAgIHRoaXMuX3ZhbGlkYXRpb25PYmplY3RzLmluYWN0aXZlQnV0dG9uQ2xhc3NcbiAgICAgICk7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkgeyAgICBcbiAgICBcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKHRoaXMuX2lucHV0TGlzdCwgdGhpcy5fYnV0dG9uRWxlbWVudCk7XG4gICAgICBcbiAgICAgIH0pOyAgICAgIFxuICAgIH0pO1xuICB9XG5cbiAgaGlkZUVycm9yTWVzc2FnZSgpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlRXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9KTtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IocmVuZGVyZXIsIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICByZW5kZXJlckl0ZW1zKGl0ZW1zKSB7XHJcbiAgICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICAgIHRoaXMuYWRkSXRlbSh0aGlzLnJlbmRlcmVyKGl0ZW0pKTtcclxuICAgICAgICAgIHJldHVybiBpdGVtO1xyXG4gICAgICB9KTtcclxuICB9XHJcbiAgXHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XHJcbiAgICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xyXG4gICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgfTtcclxuXHJcbiAgb3BlbigpIHtcclxuICAgICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG4gIFxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICBpZiAoZXZ0LnRhcmdldCA9PT0gZXZ0LmN1cnJlbnRUYXJnZXQgfHwgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJy5lbGVtZW50X19jbG9zZS1idXR0b24nKSkge1xyXG4gICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwLmpzXCI7XHJcblxyXG4gIGV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9pbWFnZUNhcHRpb24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlJyk7XHJcbiAgICAgICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3RpdGxlX3BpYycpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oaXRlbSkge1xyXG4gICAgICAgIHRoaXMuX2ltYWdlQ2FwdGlvbi50ZXh0Q29udGVudCA9IGl0ZW0ubmFtZTtcclxuICAgICAgICB0aGlzLl9pbWFnZS5zcmMgPSBpdGVtLmxpbms7XHJcbiAgICAgICAgdGhpcy5faW1hZ2Uuc2V0QXR0cmlidXRlKCdhbHQnLCBpdGVtLm5hbWUpO1xyXG4gICAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgYXBpQ2FsbGJhY2spIHtcclxuICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2NvbnRhaW5lcicpO1xyXG4gICAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5mbycpO1xyXG4gICAgICB0aGlzLl9hcGlDYWxsYmFjayA9IGFwaUNhbGxiYWNrO1xyXG4gICAgICB0aGlzLl9zdWJtaXQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fc3VibWl0LWJ1dHRvbicpO1xyXG4gIH1cclxuICBcclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XHJcbiAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICAgICAgaW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiBpbnB1dFZhbHVlcztcclxuICB9XHJcblxyXG4gIF9zdWJtaXRIYW5kbGVyID0gKCkgPT4ge1xyXG4gICAgICBjb25zdCBvYmogPSB0aGlzLl9nZXRJbnB1dFZhbHVlcygpO1xyXG4gICAgICB0aGlzLnByZWxvYWRlcigpO1xyXG4gICAgICB0aGlzLl9hcGlDYWxsYmFjayhvYmopXHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5fc3VibWl0SGFuZGxlcik7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gIH1cclxuXHJcbiAgcHJlbG9hZGVyKCkge1xyXG4gICAgICB0aGlzLl9zdWJtaXQudGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC10L3QuNC1Li4uXCI7XHJcbiAgfVxyXG5cclxuICBvZmZQcmVsb2FkZXIodGV4dCkge1xyXG4gICAgICB0aGlzLl9zdWJtaXQudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gIH1cclxufVxyXG4iLCJcclxuZXhwb3J0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7bmFtZVNlbGVjdG9yLCBhYm91dFNlbGVjdG9yLCBhdmF0YXJTZWxlY3Rvcn0pIHtcclxuICAgICAgdGhpcy5fbmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3RvciksXHJcbiAgICAgIHRoaXMuX2Fib3V0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYWJvdXRTZWxlY3Rvcik7XHJcbiAgICAgIHRoaXMuX2F2YXRhckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgICBjb25zdCB1c2VySW5mbyA9IHtcclxuICAgICAgICAgIG5hbWU6IHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50LFxyXG4gICAgICAgICAgYWJvdXQ6IHRoaXMuX2Fib3V0RWxlbWVudC50ZXh0Q29udGVudFxyXG4gICAgICB9O1xyXG4gICAgICByZXR1cm4gdXNlckluZm87XHJcbiAgfVxyXG4gIFxyXG4gIHNldFVzZXJJbmZvKGl0ZW0pIHtcclxuICAgICAgdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBpdGVtLm5hbWU7XHJcbiAgICAgIHRoaXMuX2Fib3V0RWxlbWVudC50ZXh0Q29udGVudCA9IGl0ZW0uYWJvdXQ7XHJcbiAgfVxyXG5cclxuICBzZXRBdmF0YXIoaXRlbSkge1xyXG4gICAgICB0aGlzLl9hdmF0YXJFbGVtZW50LnNyYyA9IGl0ZW07XHJcbiAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgdGhpcy5fc3VibWl0ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19zdWJtaXQtYnV0dG9uJyk7XHJcbiAgfVxyXG4gIFxyXG4gIHNldFN1Ym1pdEFjdGlvbihzdWJtaXRBY3Rpb24pIHtcclxuICAgICAgdGhpcy5fY2FsbGJhY2sgPSBzdWJtaXRBY3Rpb247XHJcbiAgfVxyXG5cclxuIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgIFxyXG4gIH1cclxuICBcclxuICBzdWJtaXQoKSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2NhbGxiYWNrKTtcclxuICB9XHJcbiBcclxuICBjbG9zZSgpIHtcclxuICAgICAgdGhpcy5fc3VibWl0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fY2FsbGJhY2spO1xyXG4gICAgICBzdXBlci5jbG9zZSgpO1xyXG4gIH1cclxuICBcclxuICBwcmVsb2FkZXIoKSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdC50ZXh0Q29udGVudCA9IFwi0KPQtNCw0LvQtdC90LjQtS4uLlwiO1xyXG4gIH1cclxuXHJcbiAgb2ZmUHJlbG9hZGVyKHRleHQpIHtcclxuICAgICAgdGhpcy5fc3VibWl0LnRleHRDb250ZW50ID0gdGV4dDtcclxuICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xyXG4gICAgICB0aGlzLl91cmwgPSBjb25maWcudXJsO1xyXG4gICAgICB0aGlzLl9oZWFkZXJzID0gY29uZmlnLmhlYWRlcnM7XHJcbiAgICAgIHRoaXMuc2VuZE5ld1Byb2ZpbGVJbmZvID0gIHRoaXMuc2VuZE5ld1Byb2ZpbGVJbmZvLmJpbmQodGhpcyk7XHJcbiAgICAgIHRoaXMuYWRkTmV3Q2FyZCA9IHRoaXMuYWRkTmV3Q2FyZC5iaW5kKHRoaXMpO1xyXG4gICAgICB0aGlzLmFkZExpa2UgPSB0aGlzLmFkZExpa2UuYmluZCh0aGlzKTtcclxuICAgICAgdGhpcy5kZWxldGVMaWtlID0gdGhpcy5kZWxldGVMaWtlLmJpbmQodGhpcyk7XHJcbiAgICAgIHRoaXMuc2VuZE5ld0F2YXRhciA9IHRoaXMuc2VuZE5ld0F2YXRhci5iaW5kKHRoaXMpO1xyXG4gICAgICB0aGlzLmRlbGV0ZUltYWdlID0gdGhpcy5kZWxldGVJbWFnZS5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgZ2V0SW5mbygpIHtcclxuICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH11c2Vycy9tZWAsIHtcclxuICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCfQn9GA0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwJyk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0UGhvdG9zKCkge1xyXG4gICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfWNhcmRzYCwge1xyXG4gICAgICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ9Cf0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LAnKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZW5kTmV3UHJvZmlsZUluZm8oZGF0YSkge1xyXG4gICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfXVzZXJzL21lYCwge1xyXG4gICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpIFxyXG4gICAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgn0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsCcpO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZE5ld0NhcmQoZGF0YSkge1xyXG4gICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfWNhcmRzYCwge1xyXG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSlcclxuICAgICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ9Cf0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LAnKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGRMaWtlKGRhdGEpIHtcclxuICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH1jYXJkcy8ke2RhdGEuX2lkfS9saWtlc2AsIHtcclxuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSlcclxuICAgICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ9Cf0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LAnKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBkZWxldGVMaWtlKGRhdGEpIHtcclxuICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH1jYXJkcy8ke2RhdGEuX2lkfS9saWtlc2AsIHtcclxuICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgn0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsCcpO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUltYWdlKGRhdGEpIHtcclxuICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH1jYXJkcy8ke2RhdGEuX2lkfWAsIHtcclxuICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgn0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsCcpO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIHNlbmROZXdBdmF0YXIoZGF0YSkge1xyXG4gICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfXVzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7YXZhdGFyOiBkYXRhLmxpbmt9KSBcclxuICAgICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ9Cf0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LAnKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG59IiwiLyoqIGltcG9ydCAqL1xuXG5pbXBvcnQgeyBpbml0aWFsQ2FyZHMgfSBmcm9tIFwiLi4vc3JjL2NvbXBvbmVudHMvY2FyZHMuanNcIjtcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcblxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSBcIi4uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgeyBQb3B1cFdpdGhGb3JtIH0gZnJvbSBcIi4uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSBcIi4uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5cbmltcG9ydCBcIi4vcGFnZXMvaW5kZXguY3NzXCI7XG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGZyb20gXCIuLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanNcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL3NyYy9jb21wb25lbnRzL0FwaS5qc1wiO1xuXG4vKiogZm9yIHBvcHVwMSAqL1xuXG5jb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcblxuY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbnB1dC1uYW1lXCIpO1xuY29uc3QgaW5mb0lucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbnB1dC1qb2JcIik7XG5cbi8qKiBmb3IgcG9wdXAyICovXG5cbmNvbnN0IGFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcblxuLyoqIGZvciBlZGl0IGF2YXRhciBwb3B1cCAqL1xuXG5jb25zdCBhdmF0YXJDaGFuZ2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhci1lZGl0LWJ1dHRvblwiKTtcblxuY29uc3QgdmFsaWRhdGlvbk9iamVjdHMgPSB7XG4gIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2NvbnRhaW5lclwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5mb1wiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX3N1Ym1pdC1idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fc3VibWl0LWJ1dHRvbl9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2luZm9fdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcInBvcHVwX19zcGFuLWVycm9yX3Zpc2libGVcIixcbn07XG5cbi8qKiB2YWxpZGF0aW9uICovXG5cbmNvbnN0IGZvcm1Qcm9maWxlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2NvbnRhaW5lcl9wcm9maWxlXCIpO1xuY29uc3QgZm9ybUFkZENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jb250YWluZXJfYWRkXCIpO1xuY29uc3QgZm9ybUVkaXRBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jb250YWluZXJfYXZhdGFyXCIpO1xuXG5jb25zdCBwcm9maWxlRm9ybVZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcihcbiAgdmFsaWRhdGlvbk9iamVjdHMsXG4gIGZvcm1Qcm9maWxlRWxlbWVudFxuKTtcblxuY29uc3QgcG9wdXBBZGRDYXJkRm9ybVZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcihcbiAgdmFsaWRhdGlvbk9iamVjdHMsXG4gIGZvcm1BZGRDYXJkXG4pO1xuXG5jb25zdCBhdmF0YXJGb3JtVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKFxuICB2YWxpZGF0aW9uT2JqZWN0cyxcbiAgZm9ybUVkaXRBdmF0YXJcbik7XG5cbnByb2ZpbGVGb3JtVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKCk7XG5wb3B1cEFkZENhcmRGb3JtVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKCk7XG5hdmF0YXJGb3JtVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbi8qKiBBcGkgKi9cblxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIHVybDogJ2h0dHBzOi8vbm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDEvJyxcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246ICdmYmM2NWZkMi01YzE2LTRhOTktOTU0Mi1hMDhjZGU3MmRjOGMnLFxuICAgIFwiY29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9XG59KTtcblxubGV0IHVzZXJJZDtcblxuXG5cblByb21pc2UuYWxsKFthcGkuZ2V0SW5mbygpLCBhcGkuZ2V0UGhvdG9zKCldKVxuICAudGhlbigodmFsdWVzKSA9PiB7XG4gIGNvbnN0IGluZm8gPSB2YWx1ZXNbMF07XG4gIGNvbnN0IHBob3RvcyA9IHZhbHVlc1sxXTtcbiAgdXNlckluZm9Qcm9maWxlLnNldFVzZXJJbmZvKGluZm8pO1xuICB1c2VySWQgPSBpbmZvLl9pZDtcbiAgcGhvdG9zLmZvckVhY2goKHBob3RvKSA9PiB7XG4gIHBob3RvLnVzZXJJZCA9IGluZm8uX2lkO1xuICB9KTtcbiAgc2VjdGlvbi5yZW5kZXJlckl0ZW1zKHBob3Rvcyk7XG59KS5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcblxuY29uc3QgY2FyZCA9ICguLi5hcmcpID0+IG5ldyBDYXJkKC4uLmFyZyk7XG5jb25zdCBzZWN0aW9uID0gbmV3IFNlY3Rpb24oY3JlYXRlTmV3Q2FyZCwgXCIuZWxlbWVudHNcIik7XG5cbmNvbnN0IHBvcHVwQXZhdGFyQ2hhbmdlID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cF9hdmF0YXInLCBuZXdBdmF0YXJBcGkpO1xucG9wdXBBdmF0YXJDaGFuZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmF2YXRhckNoYW5nZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBhdmF0YXJGb3JtVmFsaWRhdGlvbi5oaWRlRXJyb3JNZXNzYWdlKCk7XG4gICAgcG9wdXBBdmF0YXJDaGFuZ2Uub2ZmUHJlbG9hZGVyKFwi0KHQvtGF0YDQsNC90LjRgtGMXCIpO1xuICAgIHBvcHVwQXZhdGFyQ2hhbmdlLm9wZW4oKTtcbn0pO1xuXG5jb25zdCBwb3B1cFByb2ZpbGVGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cF9lZGl0JywgbmV3UHJvZmlsZUluZm9BcGkpO1xucG9wdXBQcm9maWxlRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xuZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICBnZXRWYWx1ZXModXNlckluZm9Qcm9maWxlLmdldFVzZXJJbmZvKCkpO1xuICBwcm9maWxlRm9ybVZhbGlkYXRpb24uaGlkZUVycm9yTWVzc2FnZSgpO1xuICBnZXRWYWx1ZXModXNlckluZm9Qcm9maWxlLmdldFVzZXJJbmZvKCkpO1xuICBwb3B1cFByb2ZpbGVGb3JtLm9mZlByZWxvYWRlcihcItCh0L7RhdGA0LDQvdC40YLRjFwiKTtcbiAgcG9wdXBQcm9maWxlRm9ybS5vcGVuKCk7XG59KTtcblxuY29uc3QgcG9wdXBBZGRJbWFnZUZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX2FkZCcsIGFkZEltYWdlKTtcbnBvcHVwQWRkSW1hZ2VGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5hZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgcG9wdXBBZGRDYXJkRm9ybVZhbGlkYXRpb24uaGlkZUVycm9yTWVzc2FnZSgpO1xuICBwb3B1cEFkZEltYWdlRm9ybS5vZmZQcmVsb2FkZXIoXCLQodC+0LfQtNCw0YLRjFwiKTtcbiAgcG9wdXBBZGRJbWFnZUZvcm0ub3BlbigpO1xufSk7XG5cbmNvbnN0IHBvcHVwUHJlZGVsZXRlID0gbmV3IFBvcHVwV2l0aENvbmZpcm1hdGlvbihcIi5wb3B1cF9kZWxldGUtY2FyZFwiKTtcbnBvcHVwUHJlZGVsZXRlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IHBvcHVwV2l0aEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKCcucG9wdXBfcGljJyk7XG5wb3B1cFdpdGhJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCB1c2VySW5mb1Byb2ZpbGUgPSBuZXcgVXNlckluZm8oe25hbWVTZWxlY3RvcjogJy5wcm9maWxlX190aXRsZScsIGFib3V0U2VsZWN0b3I6ICcucHJvZmlsZV9fc3VidGl0bGUnLCBhdmF0YXJTZWxlY3RvcjogJy5wcm9maWxlX19hdmF0YXInfSk7XG5cblxuZnVuY3Rpb24gYWRkSW1hZ2UoaXRlbSkge1xuICAgIGFwaS5hZGROZXdDYXJkKGl0ZW0pXG4gICAgLnRoZW4oKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgbmV3Q2FyZCA9IHZhbHVlO1xuICAgIG5ld0NhcmQudXNlcklkID0gdXNlcklkO1xuICAgIHNlY3Rpb24uYWRkSXRlbShjcmVhdGVOZXdDYXJkKG5ld0NhcmQpKTtcbiAgICBwb3B1cEFkZEltYWdlRm9ybS5jbG9zZSgpO1xuICB9KS5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbn1cblxuZnVuY3Rpb24gZGVsZXRlSW1hZ2VPcGVuKGl0ZW0sIGVsZW1lbnQpIHsgXG4gIHBvcHVwUHJlZGVsZXRlLnNldFN1Ym1pdEFjdGlvbigoKSA9PiB7XG4gICAgcG9wdXBQcmVkZWxldGUucHJlbG9hZGVyKCk7XG4gICAgYXBpLmRlbGV0ZUltYWdlKGl0ZW0sIGVsZW1lbnQpXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICBlbGVtZW50LnJlbW92ZSgpO1xuICAgICBlbGVtZW50ID0gbnVsbDtcbiAgICAgcG9wdXBQcmVkZWxldGUuY2xvc2UoKTtcbiAgICB9KS5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxuICB9KTtcbiAgcG9wdXBQcmVkZWxldGUub2ZmUHJlbG9hZGVyKFwi0JTQsFwiKTtcbiAgcG9wdXBQcmVkZWxldGUub3BlbigpO1xuICBwb3B1cFByZWRlbGV0ZS5zdWJtaXQoKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTmV3Q2FyZChpdGVtKSB7XG4gIGNvbnN0IGNhcmQyID0gY2FyZChpdGVtLCAnLnRlbXBsYXRlJywgb3BlblBvcHVwV2l0aEltYWdlLCBkZWxldGVJbWFnZU9wZW4pO1xuICBjYXJkMi5kZWxldGVMaWtlQXBpKCgpID0+IHtcbiAgICBhcGkuZGVsZXRlTGlrZShpdGVtKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIGNhcmQyLnRvZ2dsZUxpa2UocmVzKTtcbiAgICB9KS5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxuICB9KTtcbiAgY2FyZDIuYWRkTGlrZUFwaSgoKSA9PiB7XG4gICAgYXBpLmFkZExpa2UoaXRlbSlcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBjYXJkMi50b2dnbGVMaWtlKHJlcyk7XG4gICAgfSkuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcbiAgfSk7XG4gIHJldHVybiBjYXJkMi5jcmVhdGVDYXJkKCk7XG59XG5cbmZ1bmN0aW9uIG5ld0F2YXRhckFwaShpdGVtKSB7XG4gIGFwaS5zZW5kTmV3QXZhdGFyKGl0ZW0pXG4gIC50aGVuKChyZXMpID0+IHtcbiAgdXNlckluZm9Qcm9maWxlLnNldEF2YXRhcihyZXMuYXZhdGFyKTtcbiAgYXZhdGFyRm9ybVZhbGlkYXRpb24uaGlkZUVycm9yTWVzc2FnZSgpO1xuICBwb3B1cEF2YXRhckNoYW5nZS5jbG9zZSgpO1xufSkuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XG59XG5cbmZ1bmN0aW9uIG5ld1Byb2ZpbGVJbmZvQXBpKGl0ZW0pIHtcbiAgYXBpLnNlbmROZXdQcm9maWxlSW5mbyhpdGVtKVxuICAudGhlbigocmVzKSA9PiB7XG4gICAgdXNlckluZm9Qcm9maWxlLnNldFVzZXJJbmZvKHJlcyk7XG4gICAgcG9wdXBQcm9maWxlRm9ybS5jbG9zZSgpO1xuICB9KS5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbn1cblxuZnVuY3Rpb24gb3BlblBvcHVwV2l0aEltYWdlKGl0ZW0pIHtcbiAgcG9wdXBXaXRoSW1hZ2Uub3BlbihpdGVtKTtcbn1cblxuZnVuY3Rpb24gZ2V0VmFsdWVzKGl0ZW0pIHtcbiAgbmFtZUlucHV0LnZhbHVlID0gaXRlbS5uYW1lO1xuICBpbmZvSW5wdXQudmFsdWUgPSBpdGVtLmFib3V0O1xufVxuXG5cblxuIl0sIm5hbWVzIjpbIkNhcmQiLCJpdGVtIiwidGVtcGxhdGVTZWxlY3RvciIsImNhbGxiYWNrIiwiaW1hZ2VEZWxldGVDYWxsYmFjayIsImxpa2VEZWxldGVDYWxsYmFjayIsImxpa2VBZGRDYWxsYmFjayIsInRoaXMiLCJfdGVtcGxhdGVTZWxlY3RvciIsIl9pdGVtIiwiX3VzZXJJZCIsInVzZXJJZCIsIl9saWtlcyIsImxpa2VzIiwiX2NhbGxiYWNrIiwiX2ltYWdlRGVsZXRlQ2FsbGJhY2siLCJfbGlrZURlbGV0ZUNhbGxiYWNrIiwiX2xpa2VBZGRDYWxsYmFjayIsIl91c2VyTGlrZWQiLCJzb21lIiwibGlrZSIsIl9pZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZWxlbWVudCIsIl9nZXRDYXJkIiwiX2NhcmRJbWFnZSIsInNyYyIsImxpbmsiLCJ0ZXh0Q29udGVudCIsIm5hbWUiLCJzZXRBdHRyaWJ1dGUiLCJfbGlrZUJ1dHRvbiIsIl9saWtlc051bWJlciIsIl9pc0xpa2VkIiwiY2xhc3NMaXN0IiwiYWRkIiwibGVuZ3RoIiwiX2lzVXNlck93bmVyIiwicmVtb3ZlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9kZWxldGVMaWtlQ2FsbGJhY2siLCJfYWRkTGlrZUNhbGxiYWNrIiwib3duZXIiLCJyZXMiLCJ0b2dnbGUiLCJhZGRMaWtlIiwiZGVsZXRlTGlrZSIsIkZvcm1WYWxpZGF0b3IiLCJ2YWxpZGF0aW9uT2JqZWN0cyIsImZvcm1FbGVtZW50IiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiX2Zvcm1FbGVtZW50IiwiaWQiLCJfdmFsaWRhdGlvbk9iamVjdHMiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlRXJyb3IiLCJfc2hvd0Vycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJfYnV0dG9uRWxlbWVudCIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2hhc0ludmFsaWRJbnB1dCIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJkaXNhYmxlZCIsImZvckVhY2giLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiU2VjdGlvbiIsInJlbmRlcmVyIiwiY29udGFpbmVyU2VsZWN0b3IiLCJfY29udGFpbmVyIiwiaXRlbXMiLCJhZGRJdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwiZXZ0Iiwia2V5IiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoSW1hZ2UiLCJfaW1hZ2VDYXB0aW9uIiwiX2ltYWdlIiwiUG9wdXBXaXRoRm9ybSIsImFwaUNhbGxiYWNrIiwib2JqIiwiX2dldElucHV0VmFsdWVzIiwicHJlbG9hZGVyIiwiX2FwaUNhbGxiYWNrIiwiX2Zvcm0iLCJfc3VibWl0IiwiaW5wdXRWYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwiX3N1Ym1pdEhhbmRsZXIiLCJyZXNldCIsInRleHQiLCJVc2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImFib3V0U2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9uYW1lRWxlbWVudCIsIl9hYm91dEVsZW1lbnQiLCJfYXZhdGFyRWxlbWVudCIsImFib3V0IiwiUG9wdXBXaXRoQ29uZmlybWF0aW9uIiwic3VibWl0QWN0aW9uIiwiQXBpIiwiY29uZmlnIiwiX3VybCIsInVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsInNlbmROZXdQcm9maWxlSW5mbyIsImFkZE5ld0NhcmQiLCJzZW5kTmV3QXZhdGFyIiwiZGVsZXRlSW1hZ2UiLCJmZXRjaCIsIm1ldGhvZCIsInRoZW4iLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0IiwiZGF0YSIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYXZhdGFyIiwiZWRpdEJ1dHRvbiIsIm5hbWVJbnB1dCIsImluZm9JbnB1dCIsImFkZEJ1dHRvbiIsImF2YXRhckNoYW5nZUJ1dHRvbiIsImZvcm1TZWxlY3RvciIsImZvcm1Qcm9maWxlRWxlbWVudCIsImZvcm1BZGRDYXJkIiwiZm9ybUVkaXRBdmF0YXIiLCJwcm9maWxlRm9ybVZhbGlkYXRpb24iLCJwb3B1cEFkZENhcmRGb3JtVmFsaWRhdGlvbiIsImF2YXRhckZvcm1WYWxpZGF0aW9uIiwiZW5hYmxlVmFsaWRhdGlvbiIsImFwaSIsImF1dGhvcml6YXRpb24iLCJhbGwiLCJnZXRJbmZvIiwiZ2V0UGhvdG9zIiwidmFsdWVzIiwiaW5mbyIsInBob3RvcyIsInVzZXJJbmZvUHJvZmlsZSIsInNldFVzZXJJbmZvIiwicGhvdG8iLCJzZWN0aW9uIiwicmVuZGVyZXJJdGVtcyIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImNyZWF0ZU5ld0NhcmQiLCJwb3B1cEF2YXRhckNoYW5nZSIsInNldEF2YXRhciIsImhpZGVFcnJvck1lc3NhZ2UiLCJzZXRFdmVudExpc3RlbmVycyIsIm9mZlByZWxvYWRlciIsIm9wZW4iLCJwb3B1cFByb2ZpbGVGb3JtIiwiZ2V0VmFsdWVzIiwiZ2V0VXNlckluZm8iLCJwb3B1cEFkZEltYWdlRm9ybSIsIm5ld0NhcmQiLCJwb3B1cFByZWRlbGV0ZSIsInBvcHVwV2l0aEltYWdlIiwiZGVsZXRlSW1hZ2VPcGVuIiwic2V0U3VibWl0QWN0aW9uIiwic3VibWl0IiwiY2FyZDIiLCJhcmciLCJjYXJkIiwib3BlblBvcHVwV2l0aEltYWdlIiwiZGVsZXRlTGlrZUFwaSIsInRvZ2dsZUxpa2UiLCJhZGRMaWtlQXBpIiwiY3JlYXRlQ2FyZCJdLCJzb3VyY2VSb290IjoiIn0=